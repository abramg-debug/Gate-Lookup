<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Gate Lookup</title>
<style>
  :root{
    --bg:#0b1220; --card:#121a2b; --text:#e8eefc; --muted:#9fb0d8; --ok:#17c964; --err:#f31260; --accent:#3b82f6;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--text);}
  .wrap{max-width:680px;margin:32px auto;padding:16px}
  .card{background:var(--card);border:1px solid rgba(255,255,255,.06);border-radius:16px;box-shadow:0 6px 20px rgba(0,0,0,.35);padding:18px}
  h1{margin:0 0 12px;font-size:20px;font-weight:700;letter-spacing:.2px}
  .row{display:flex;gap:10px;align-items:center}
  input[type="text"]{flex:1;padding:14px 14px;border-radius:12px;border:1px solid rgba(255,255,255,.1);background:#0f172a;color:var(--text);font-size:18px}
  input::placeholder{color:#93a3c7}
  .hint{color:var(--muted);font-size:13px;margin-top:8px}
  .result{margin-top:16px;padding:14px 14px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#0e1628;min-height:64px;display:flex;flex-direction:column;gap:6px}
  .result.ok{outline:2px solid color-mix(in oklab, var(--ok) 55%, transparent)}
  .result.err{outline:2px solid color-mix(in oklab, var(--err) 55%, transparent)}
  .kvs{display:grid;grid-template-columns:120px 1fr;gap:8px 12px}
  .k{color:var(--muted)}
  .v{font-weight:600}
  .pill{display:inline-flex;align-items:center;gap:8px;background:#0c1222;border:1px solid rgba(255,255,255,.08);color:var(--muted);padding:8px 10px;border-radius:999px;font-size:12px;margin-top:8px}
  .footer{margin-top:16px;display:flex;gap:8px;flex-wrap:wrap}
  .tiny{font-size:12px;color:var(--muted)}
</style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Gate Lookup</h1>
      <div class="row">
        <input id="gate" type="text" placeholder="Type a Gate # (e.g. 490) or Site Name (e.g. Pomona)" autocomplete="off" />
      </div>
      <div class="hint">Type a gate number or site name. Numeric input searches Gate #; text searches Site Name.</div>
      <div id="out" class="result" aria-live="polite"></div>
      <div class="footer">
        <span class="tiny">• Works offline • Single‑file app</span>
      </div>
    </div>
  </div>

<script>
const DATA = [
  const gates = [
  // A Line
  ['A', 144, 'Firestone', '00605'],
  ['A', 144, 'Firestone', '00606'],
  ['A', 144, 'Firestone', '00608'],
  ['A', 144, 'Firestone', '00609'],

  ['A', 145, 'Willowbrook - Rosa Parks', '00333'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00334'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00335'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00337'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00340'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00342'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00343'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00345'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00346'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00349'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00350'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00351'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00353'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00357'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00358'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00450'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00451'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00452'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00453'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00454'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00455'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00456'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00458'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00459'],
  ['A', 145, 'Willowbrook - Rosa Parks', '00460'],

  ['A', 167, 'Lake', '00508'],
  ['A', 167, 'Lake', '00510'],

  ['A', 2975, 'Glendora', '00462'],
  ['A', 2975, 'Glendora', '00463'],
  ['A', 2975, 'Glendora', '00466'],
  ['A', 2975, 'Glendora', '00467'],

  ['A', 2976, 'San Dimas', '00470'],
  ['A', 2976, 'San Dimas', '00471'],

  ['A', 2977, 'La Verne', '00478'],
  ['A', 2977, 'La Verne', '00479'],
  ['A', 2977, 'La Verne', '00482'],
  ['A', 2977, 'La Verne', '00483'],

  ['A', 2978, 'Pomona', '00486'],
  ['A', 2978, 'Pomona', '00487'],
  ['A', 2978, 'Pomona', '00488'],
  ['A', 2978, 'Pomona', '00489'],
  ['A', 2978, 'Pomona', '00490'],
  ['A', 2978, 'Pomona', '00493'],
  ['A', 2978, 'Pomona', '00494'],
  ['A', 2978, 'Pomona', '00497'],
  ['A', 2978, 'Pomona', '00498'],

  // B Line
  ['B', 104, 'Westlake/MacArthur Park', '00901'],
  ['B', 104, 'Westlake/MacArthur Park', '00902'],
  ['B', 104, 'Westlake/MacArthur Park', '00903'],
  ['B', 104, 'Westlake/MacArthur Park', '00904'],
  ['B', 104, 'Westlake/MacArthur Park', '00905'],
  ['B', 104, 'Westlake/MacArthur Park', '00906'],
  ['B', 104, 'Westlake/MacArthur Park', '00907'],
  ['B', 104, 'Westlake/MacArthur Park', '00908'],
  ['B', 104, 'Westlake/MacArthur Park', '00909'],
  ['B', 104, 'Westlake/MacArthur Park', '00910'],

  ['B', 120, 'North Hollywood', '00154'],
  ['B', 120, 'North Hollywood', '00155'],
  ['B', 120, 'North Hollywood', '00156'],
  ['B', 120, 'North Hollywood', '00157'],
  ['B', 120, 'North Hollywood', '00158'],
  ['B', 120, 'North Hollywood', '00161'],
  ['B', 120, 'North Hollywood', '00162'],
  ['B', 120, 'North Hollywood', '00163'],
  ['B', 120, 'North Hollywood', '00164'],
  ['B', 120, 'North Hollywood', '00165'],
  ['B', 120, 'North Hollywood', '00166'],

  ['B', 122, 'Civic Center', '00026'],
  ['B', 122, 'Civic Center', '00027'],
  ['B', 122, 'Civic Center', '00028'],
  ['B', 122, 'Civic Center', '00029'],
  ['B', 122, 'Civic Center', '00030'],
  ['B', 122, 'Civic Center', '00031'],
  ['B', 122, 'Civic Center', '00032'],
  ['B', 122, 'Civic Center', '00911'],
  ['B', 122, 'Civic Center', '00912'],
  ['B', 122, 'Civic Center', '00913'],

  ['B', 123, 'Pershing Square', '00035'],
  ['B', 123, 'Pershing Square', '00036'],
  ['B', 123, 'Pershing Square', '00037'],
  ['B', 123, 'Pershing Square', '00038'],
  ['B', 123, 'Pershing Square', '00039'],
  ['B', 123, 'Pershing Square', '00040'],
  ['B', 123, 'Pershing Square', '00041'],
  ['B', 123, 'Pershing Square', '00043'],
  ['B', 123, 'Pershing Square', '00044'],
  ['B', 123, 'Pershing Square', '00045'],
  ['B', 123, 'Pershing Square', '00046'],
  ['B', 123, 'Pershing Square', '00047'],

  ['B', 124, '7th Street/Metro Center', '00049'],
  ['B', 124, '7th Street/Metro Center', '00050'],
  ['B', 124, '7th Street/Metro Center', '00051'],
  ['B', 124, '7th Street/Metro Center', '00052'],
  ['B', 124, '7th Street/Metro Center', '00054'],
  ['B', 124, '7th Street/Metro Center', '00055'],
  ['B', 124, '7th Street/Metro Center', '00056'],
  ['B', 124, '7th Street/Metro Center', '00057'],
  ['B', 124, '7th Street/Metro Center', '00059'],
  ['B', 124, '7th Street/Metro Center', '00060'],
  ['B', 124, '7th Street/Metro Center', '00061'],
  ['B', 124, '7th Street/Metro Center', '00062'],
  ['B', 124, '7th Street/Metro Center', '00064'],
  ['B', 124, '7th Street/Metro Center', '00065'],
  ['B', 124, '7th Street/Metro Center', '00066'],
  ['B', 124, '7th Street/Metro Center', '00067'],
  ['B', 124, '7th Street/Metro Center', '00069'],
  ['B', 124, '7th Street/Metro Center', '00070'],
  ['B', 124, '7th Street/Metro Center', '00071'],

  ['B', 125, 'Wilshire/Vermont', '00087'],
  ['B', 125, 'Wilshire/Vermont', '00088'],
  ['B', 125, 'Wilshire/Vermont', '00089'],
  ['B', 125, 'Wilshire/Vermont', '00090'],
  ['B', 125, 'Wilshire/Vermont', '00091'],
  ['B', 125, 'Wilshire/Vermont', '00095'],
  ['B', 125, 'Wilshire/Vermont', '00096'],

  ['B', 129, 'Vermont/Santa Monica', '00104'],
  ['B', 129, 'Vermont/Santa Monica', '00105'],
  ['B', 129, 'Vermont/Santa Monica', '00106'],
  ['B', 129, 'Vermont/Santa Monica', '00107'],
  ['B', 129, 'Vermont/Santa Monica', '00110'],
  ['B', 129, 'Vermont/Santa Monica', '00111'],

  ['B', 131, 'Hollywood/Western', '00112'],
  ['B', 131, 'Hollywood/Western', '00124'],
  ['B', 131, 'Hollywood/Western', '00125'],
  ['B', 131, 'Hollywood/Western', '00126'],
  ['B', 131, 'Hollywood/Western', '00127'],
  ['B', 131, 'Hollywood/Western', '00128'],

  // C Line
  ['C', 174, 'Aviation/Imperial', '00411'],
  ['C', 174, 'Aviation/Imperial', '00412'],
  ['C', 174, 'Aviation/Imperial', '00413'],
  ['C', 174, 'Aviation/Imperial', '00415'],
  ['C', 174, 'Aviation/Imperial', '00416'],
  ['C', 174, 'Aviation/Imperial', '00417'],
  ['C', 174, 'Aviation/Imperial', '00472'],
  ['C', 174, 'Aviation/Imperial', '00474'],

  ['C', 60, 'Norwalk', '00307'],
  ['C', 60, 'Norwalk', '00308'],
  ['C', 60, 'Norwalk', '00532'],
  ['C', 60, 'Norwalk', '00533'],
  ['C', 60, 'Norwalk', '00534'],
  ['C', 60, 'Norwalk', '00535'],
  ['C', 60, 'Norwalk', '00300'],
  ['C', 60, 'Norwalk', '00301'],
  ['C', 60, 'Norwalk', '00302'],
  ['C', 60, 'Norwalk', '00303'],
  ['C', 60, 'Norwalk', '00304'],
  ['C', 60, 'Norwalk', '00305'],

  // D Line
  ['D', 2986, 'Wilshire/La Brea', '00184'],
  ['D', 2986, 'Wilshire/La Brea', '00185'],
  ['D', 2986, 'Wilshire/La Brea', '00186'],
  ['D', 2986, 'Wilshire/La Brea', '00187'],

  ['D', 2987, 'Wilshire/Fairfax', '00190'],
  ['D', 2987, 'Wilshire/Fairfax', '00191'],
  ['D', 2987, 'Wilshire/Fairfax', '00192'],
  ['D', 2987, 'Wilshire/Fairfax', '00193'],

  ['D', 2988, 'Wilshire/La Cienega', '00916'],
  ['D', 2988, 'Wilshire/La Cienega', '00917'],
  ['D', 2988, 'Wilshire/La Cienega', '00918'],
  ['D', 2988, 'Wilshire/La Cienega', '00919'],
  ['D', 2988, 'Wilshire/La Cienega', '00920'],
  ['D', 2988, 'Wilshire/La Cienega', '00921'],
  ['D', 2988, 'Wilshire/La Cienega', '00922'],

  // K Line
  ['K', 2941, 'LAX/MTC', '00206'],
  ['K', 2941, 'LAX/MTC', '00207'],
  ['K', 2941, 'LAX/MTC', '00208'],
  ['K', 2941, 'LAX/MTC', '00209'],
  ['K', 2941, 'LAX/MTC', '00210'],
  ['K', 2941, 'LAX/MTC', '00211'],
  ['K', 2941, 'LAX/MTC', '00213'],
  ['K', 2941, 'LAX/MTC', '00214'],
  ['K', 2941, 'LAX/MTC', '00215'],
  ['K', 2941, 'LAX/MTC', '00216'],
  ['K', 2941, 'LAX/MTC', '00217'],
  ['K', 2941, 'LAX/MTC', '00218'],

  ['K', 171, 'Douglas', '00436'],
  ['K', 171, 'Douglas', '00437'],
  ['K', 171, 'Douglas', '00438'],
  ['K', 171, 'Douglas', '00439'],
  ['K', 171, 'Douglas', '00530'],
  ['K', 171, 'Douglas', '00531'],
  ['K', 171, 'Douglas', '00440'],
  ['K', 171, 'Douglas', '00441'],
  ['K', 171, 'Douglas', '00442'],
  ['K', 171, 'Douglas', '00475'],
  ['K', 171, 'Douglas', '00476'],
];
  ];
const lineColors = { A: 'Blue', B: 'Red', K: 'Pink', C: 'Green', E: 'Yellow' };

const byGate = new Map(DATA.map(([line, siteId, siteName, gate]) => [gate, {line, siteId, siteName, gate}]));
const bySite = new Map();
for (const [line, siteId, siteName, gate] of DATA) {
  const key = siteName.toLowerCase();
  if (!bySite.has(key)) bySite.set(key, { line, siteId, siteName, gates: [] });
  bySite.get(key).gates.push(gate);
}

const $ = s=>document.querySelector(s);
const input = $("#gate"), out = $("#out");
let timer;

input.addEventListener('input', ()=>{
  clearTimeout(timer);
  timer = setTimeout(runLookup,150);
});

function padGate(val){
  const s = (val||"").replace(/\D+/g,"");
  if(!s) return "";
  return s.padStart(5,"0");
}

function runLookup(){
  const val = input.value.trim();
  if(!val){ out.className='result'; out.innerHTML=''; return; }

  if(/^\d+$/.test(val)) return lookupGate(val);
  else return lookupSite(val);
}

function lookupGate(gate){
  const norm = padGate(gate);
  const rec = byGate.get(norm);
  if(rec){
    const color = lineColors[rec.line] || 'Unknown';
    out.className='result ok';
    out.innerHTML=`<div class="kvs">
      <div class="k">Gate #</div><div class="v">${rec.gate}</div>
      <div class="k">Line</div><div class="v">${rec.line} (${color})</div>
      <div class="k">Site ID</div><div class="v">${rec.siteId}</div>
      <div class="k">Site Name</div><div class="v">${rec.siteName}</div>
    </div><span class="pill">Match found</span>`;
  } else {
    out.className='result err';
    out.innerHTML=`<div class="kvs"><div class="k">Gate #</div><div class="v">${norm}</div><div class="k">Status</div><div class="v">Not found</div></div><span class="pill" style="color:var(--err)">No match</span>`;
  }
}

function lookupSite(term){
  const q = term.toLowerCase();
  const matches = [...bySite.values()].filter(s=>s.siteName.toLowerCase().includes(q));
  if(matches.length===0){
    out.className='result err';
    out.innerHTML=`<div class="v">No sites found matching “${term}”.</div>`;
    return;
  }
  let html='';
  for(const s of matches){
    const color = lineColors[s.line] || 'Unknown';
    html += `<div style="margin-bottom:8px"><b>${s.siteName}</b> (Line ${s.line} – ${color} – Site ID ${s.siteId})<br>Gates: ${s.gates.join(', ')}</div>`;
  }
  out.className='result ok';
  out.innerHTML=html+`<span class="pill">${matches.length} site${matches.length>1?'s':''} found</span>`;
}
</script>
</body>
</html>
